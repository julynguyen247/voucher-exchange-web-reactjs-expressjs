version: "3.1"

stories:

- story: ask voucher by category
  steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_voucher_by_category
    - action: voucher_search_form
    - active_loop: voucher_search_form

- story: ask voucher by platform
  steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_voucher_by_platform
    - action: voucher_search_form
    - active_loop: voucher_search_form

- story: ask voucher by discount
  steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_voucher_by_discount
    - action: voucher_search_form
    - active_loop: voucher_search_form

- story: ask voucher by price
  steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_voucher_by_price
    - action: voucher_search_form
    - active_loop: voucher_search_form

- story: ask voucher by expiration
  steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_voucher_by_expiration
    - action: voucher_search_form
    - active_loop: voucher_search_form

- story: search voucher with form
  steps:
    - intent: greet
    - action: utter_greet
    - or:
        - intent: search_voucher
        - intent: recommend_voucher
        - intent: ask_voucher_by_category
        - intent: ask_voucher_by_platform
        - intent: ask_voucher_by_discount
        - intent: ask_voucher_by_price
        - intent: ask_voucher_by_expiration
    - action: voucher_search_form
    - active_loop: voucher_search_form
    - active_loop: null
    - action: action_search_voucher
